(function(e,t,n){"use strict";var r="animate",i="centered",s="fixed",o="hide",u="href",a="id",f="image",l="img",c="px",h="show",p="video",d=function(){},v=t.console||{log:d,warn:d,error:d},m=e(t),g=e("html"),y=e("body"),b=g.add(y),w='<iframe allowfullscreen frameborder="0" width="560" height="350" id="yt-{{{yt-id}}}" src="//www.youtube.com/embed/{{{yt-id}}}/?enablejsapi=1&amp;playerapiid={{{yt-id}}}&amp;wmode=transparent&amp;autohide=0&amp;autoplay=0&amp;fs=1&amp;hd=1&amp;rel=0&amp;showinfo=0&amp;start=&amp;theme=dark&amp;cc_load_policy=0"></iframe>',E="{{{yt-id}}}",S=new RegExp(E,"g"),x=e(".footnote"),T=e("footer"),N=T.find("#credits"),C=N.find("i"),k=e("#party-mode"),L=e(".modal"),A,O,M,_,D={create:function(e){if(e.indexOf("youtube")>-1){var n=e.split("?v=")[1];A.prepend('<div class="vid-contain"><div class="vid">'+w.replace(S,n)+"</div></div>");_=p;O=A.find("iframe");O.click(function(e){e.stopPropagation()})}else{var r=new t.Image;r.onload=function(){A.prepend(r);O=A.find(l);_=f;O.click(function(e){e.stopPropagation()})};r.src=e}A.removeClass(o).addClass(h);b.addClass(s);A.find(".close").click(function(e){e.preventDefault()});A.click(function(){D.dismiss()})},dismiss:function(){if(A.length>0){b.removeClass(s);A.removeClass(h).addClass(o);setTimeout(function(){O.remove()},200)}}};if(L.length){y.append('<div id="modal"><a class="close" href="#" title="Close">Close</a></div>');A=e("#modal")}x.on("click",function(t){var n=e(this),r=n.attr(u);t.preventDefault();b.animate({scrollTop:e(r).offset().top-75},300)});L.on("click",function(t){t.preventDefault();D.create(e(this).attr(u))});C.click(function(){b.addClass(s);k.addClass(r).addClass(h);k.on("click",function(){e(this).removeClass(h);b.removeClass(s)})});e(n.documentElement).keyup(function(e){e.keyCode===27&&D.dismiss()});window.location.href.indexOf("party-mode")>-1&&C.click()})(jQuery,window,document);