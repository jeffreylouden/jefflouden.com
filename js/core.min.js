(function(e,t,n){"use strict";function T(n){d.append('<div id="modal"><a class="close" href="#" title="Close">Close</a></div>');E=e("#modal");var r=new t.Image;r.onload=function(){E.prepend(r);S=E.find(u);N();S.click(function(e){e.stopPropagation()})};r.src=n;E.addClass(f);v.addClass(i);E.find(".close").click(function(e){e.preventDefault()});E.click(function(){C()})}function N(){S||(S=E.find(u));if(S.height()<h.height()){S.addClass(r);S.css({marginTop:"-"+S.height()/2+a,marginLeft:"-"+S.width()/2+a})}else{S.removeClass(r);S.css({marginTop:"0px",marginLeft:"auto"})}}function C(){if(E.length>0){v.removeClass(i);E.removeClass(f).addClass(s);setTimeout(function(){E.remove()},200);h.off("resize",N)}}var r="centered",i="fixed",s="hide",o="href",u="img",a="px",f="show",l=function(){},c=t.console||{log:l,warn:l,error:l},h=e(t),p=e("html"),d=e("body"),v=p.add(d),m=e(".footnote"),g=e("footer"),y=g.find("#credits"),b=y.find("i"),w=e(".modal"),E,S,x;m.on("click",function(t){var n=e(this),r=n.attr(o);t.preventDefault();v.animate({scrollTop:e(r).offset().top-100},300)});w.on("click",function(t){t.preventDefault();T(e(this).attr("data-url"))});e(n.documentElement).keyup(function(e){e.keyCode===27&&C()});h.resize(function(){S&&N()})})(jQuery,window,document);