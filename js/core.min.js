(function(e,t,n){"use strict";function D(n){y.append('<div id="modal"><a class="close" href="#" title="Close">Close</a></div>');A=e("#modal");if(n.indexOf("youtube")>-1){var r=n.split("?v=")[1];A.prepend('<div class="vid-contain"><div class="vid">'+w.replace(S,r)+"</div></div>");_=p;O=A.find("iframe");P();O.click(function(e){e.stopPropagation()})}else{var i=new t.Image;i.onload=function(){A.prepend(i);O=A.find(l);_=f;P();O.click(function(e){e.stopPropagation()})};i.src=n}A.addClass(h);b.addClass(s);A.find(".close").click(function(e){e.preventDefault()});A.click(function(){H()})}function P(){O||(O=_===p?A.find("iframe"):A.find(l));M=_===p?O.closest(".vid-contain"):A.find(l);if(O.innerHeight()<m.height()){M.addClass(i);M.css({marginTop:"-"+Math.floor(O.innerHeight()/2)+c,marginLeft:"-"+Math.floor(O.outerWidth()/2)+c})}else{M.removeClass(i);M.css({marginTop:"0px",marginLeft:"auto"})}}function H(){if(A.length>0){b.removeClass(s);A.removeClass(h).addClass(o);setTimeout(function(){A.remove()},200);m.off("resize",P)}}var r="animate",i="centered",s="fixed",o="hide",u="href",a="id",f="image",l="img",c="px",h="show",p="video",d=function(){},v=t.console||{log:d,warn:d,error:d},m=e(t),g=e("html"),y=e("body"),b=g.add(y),w='<iframe allowfullscreen frameborder="0" width="560" height="350" id="yt-{{{yt-id}}}" src="//www.youtube.com/embed/{{{yt-id}}}/?enablejsapi=1&amp;playerapiid={{{yt-id}}}&amp;wmode=transparent&amp;autohide=0&amp;autoplay=0&amp;fs=1&amp;hd=1&amp;rel=0&amp;showinfo=0&amp;start=&amp;theme=dark&amp;cc_load_policy=0"></iframe>',E="{{{yt-id}}}",S=new RegExp(E,"g"),x=e(".footnote"),T=e("footer"),N=T.find("#credits"),C=N.find("i"),k=e("#party-mode"),L=e(".modal"),A,O,M,_;x.on("click",function(t){var n=e(this),r=n.attr(u);t.preventDefault();b.animate({scrollTop:e(r).offset().top-75},300)});L.on("click",function(t){t.preventDefault();D(e(this).attr(u))});C.click(function(){b.addClass(s);k.addClass(r).addClass(h);k.on("click",function(){e(this).removeClass(h);b.removeClass(s)})});e(n.documentElement).keyup(function(e){e.keyCode===27&&H()});m.resize(function(){O&&P()});window.location.href.indexOf("party-mode")>-1&&C.click()})(jQuery,window,document);